"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/history/route";
exports.ids = ["app/api/history/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:sqlite":
/*!******************************!*\
  !*** external "node:sqlite" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:sqlite");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistory%2Froute&page=%2Fapi%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistory%2Froute.ts&appDir=G%3A%5CTrea%5CAICoach%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=G%3A%5CTrea%5CAICoach%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistory%2Froute&page=%2Fapi%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistory%2Froute.ts&appDir=G%3A%5CTrea%5CAICoach%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=G%3A%5CTrea%5CAICoach%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var G_Trea_AICoach_frontend_app_api_history_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/history/route.ts */ \"(rsc)/./app/api/history/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/history/route\",\n        pathname: \"/api/history\",\n        filename: \"route\",\n        bundlePath: \"app/api/history/route\"\n    },\n    resolvedPagePath: \"G:\\\\Trea\\\\AICoach\\\\frontend\\\\app\\\\api\\\\history\\\\route.ts\",\n    nextConfigOutput,\n    userland: G_Trea_AICoach_frontend_app_api_history_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/history/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZoaXN0b3J5JTJGcm91dGUmcGFnZT0lMkZhcGklMkZoaXN0b3J5JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGaGlzdG9yeSUyRnJvdXRlLnRzJmFwcERpcj1HJTNBJTVDVHJlYSU1Q0FJQ29hY2glNUNmcm9udGVuZCU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RyUzQSU1Q1RyZWElNUNBSUNvYWNoJTVDZnJvbnRlbmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDUTtBQUNyRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWNvYWNoLWZyb250ZW5kLz9mYjE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkc6XFxcXFRyZWFcXFxcQUlDb2FjaFxcXFxmcm9udGVuZFxcXFxhcHBcXFxcYXBpXFxcXGhpc3RvcnlcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2hpc3Rvcnkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9oaXN0b3J5XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9oaXN0b3J5L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRzpcXFxcVHJlYVxcXFxBSUNvYWNoXFxcXGZyb250ZW5kXFxcXGFwcFxcXFxhcGlcXFxcaGlzdG9yeVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9oaXN0b3J5L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistory%2Froute&page=%2Fapi%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistory%2Froute.ts&appDir=G%3A%5CTrea%5CAICoach%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=G%3A%5CTrea%5CAICoach%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/history/route.ts":
/*!**********************************!*\
  !*** ./app/api/history/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\nconst dynamic = \"force-dynamic\";\nasync function GET() {\n    try {\n        const rows = (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.getConversationsFromDb)();\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(rows);\n    } catch (error) {\n        console.error(\"Failed to fetch conversations:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch conversations\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2hpc3Rvcnkvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNPO0FBRTNDLE1BQU1FLFVBQVUsZ0JBQWdCO0FBRWhDLGVBQWVDO0lBQ3BCLElBQUk7UUFDRixNQUFNQyxPQUFPSCwrREFBc0JBO1FBQ25DLE9BQU9ELGtGQUFZQSxDQUFDSyxJQUFJLENBQUNEO0lBQzNCLEVBQUUsT0FBT0UsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsa0NBQWtDQTtRQUNoRCxPQUFPTixrRkFBWUEsQ0FBQ0ssSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBZ0MsR0FBRztZQUFFRSxRQUFRO1FBQUk7SUFDckY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWNvYWNoLWZyb250ZW5kLy4vYXBwL2FwaS9oaXN0b3J5L3JvdXRlLnRzPzkzMjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBnZXRDb252ZXJzYXRpb25zRnJvbURiIH0gZnJvbSBcIkAvbGliL2RiXCI7XG5cbmV4cG9ydCBjb25zdCBkeW5hbWljID0gXCJmb3JjZS1keW5hbWljXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgcm93cyA9IGdldENvbnZlcnNhdGlvbnNGcm9tRGIoKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocm93cyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBjb252ZXJzYXRpb25zOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIGNvbnZlcnNhdGlvbnNcIiB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0Q29udmVyc2F0aW9uc0Zyb21EYiIsImR5bmFtaWMiLCJHRVQiLCJyb3dzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/history/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createConversation: () => (/* binding */ createConversation),\n/* harmony export */   deleteConversation: () => (/* binding */ deleteConversation),\n/* harmony export */   getConversationsFromDb: () => (/* binding */ getConversationsFromDb),\n/* harmony export */   getDb: () => (/* binding */ getDb),\n/* harmony export */   getMessagesFromDb: () => (/* binding */ getMessagesFromDb),\n/* harmony export */   getUserProfileFromDb: () => (/* binding */ getUserProfileFromDb),\n/* harmony export */   saveMessageToDb: () => (/* binding */ saveMessageToDb),\n/* harmony export */   saveUserProfileToDb: () => (/* binding */ saveUserProfileToDb),\n/* harmony export */   updateConversationTitle: () => (/* binding */ updateConversationTitle),\n/* harmony export */   updateConversationTool: () => (/* binding */ updateConversationTool)\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n\nconst { DatabaseSync } = __webpack_require__(/*! node:sqlite */ \"node:sqlite\");\nconst dbPath = path__WEBPACK_IMPORTED_MODULE_0___default().join(process.cwd(), \"sqlite.db\");\n// Use a global variable to store the database instance in development\n// to prevent multiple connections during hot reloading\nconst globalForDb = global;\nconst getDb = ()=>{\n    if (!globalForDb.dbInstance) {\n        globalForDb.dbInstance = new DatabaseSync(dbPath);\n        // Initialize tables only once when connection is established\n        initializeSchema(globalForDb.dbInstance);\n    }\n    return globalForDb.dbInstance;\n};\nconst initializeSchema = (db)=>{\n    db.exec(`CREATE TABLE IF NOT EXISTS conversations (\n       id TEXT PRIMARY KEY, \n       title TEXT NOT NULL, \n       created_at TEXT NOT NULL,\n       updated_at TEXT NOT NULL,\n       tool_id TEXT\n     )`);\n    db.exec(`CREATE TABLE IF NOT EXISTS messages (\n       id INTEGER PRIMARY KEY AUTOINCREMENT, \n       conversation_id TEXT NOT NULL,\n       role TEXT NOT NULL, \n       content TEXT NOT NULL, \n       created_at TEXT NOT NULL\n     )`);\n    // New Table: User Profiles\n    db.exec(`CREATE TABLE IF NOT EXISTS user_profiles (\n       id INTEGER PRIMARY KEY AUTOINCREMENT,\n       tags TEXT NOT NULL,\n       personality TEXT NOT NULL,\n       leadership_level TEXT NOT NULL,\n       last_updated TEXT NOT NULL\n     )`);\n    // Check if conversation_id column exists in messages table\n    try {\n        const columns = db.prepare(\"PRAGMA table_info(messages)\").all();\n        const hasConversationId = columns.some((col)=>col.name === \"conversation_id\");\n        if (!hasConversationId) {\n            db.exec(\"ALTER TABLE messages ADD COLUMN conversation_id TEXT\");\n        }\n    } catch (e) {\n        console.error(\"Schema migration error (messages):\", e);\n    }\n    // Check if updated_at column exists in conversations table\n    try {\n        const columns = db.prepare(\"PRAGMA table_info(conversations)\").all();\n        const hasUpdatedAt = columns.some((col)=>col.name === \"updated_at\");\n        if (!hasUpdatedAt) {\n            // Add column and backfill with created_at value\n            db.exec(\"ALTER TABLE conversations ADD COLUMN updated_at TEXT\");\n            db.exec(\"UPDATE conversations SET updated_at = created_at WHERE updated_at IS NULL\");\n        }\n    } catch (e) {\n        console.error(\"Schema migration error (conversations):\", e);\n    }\n    try {\n        const columns = db.prepare(\"PRAGMA table_info(conversations)\").all();\n        const hasToolId = columns.some((col)=>col.name === \"tool_id\");\n        if (!hasToolId) {\n            db.exec(\"ALTER TABLE conversations ADD COLUMN tool_id TEXT\");\n        }\n    } catch (e) {\n        console.error(\"Schema migration error (conversations tool_id):\", e);\n    }\n    // Check if kind and metadata columns exist in messages table\n    try {\n        const columns = db.prepare(\"PRAGMA table_info(messages)\").all();\n        const hasKind = columns.some((col)=>col.name === \"kind\");\n        const hasMetadata = columns.some((col)=>col.name === \"metadata\");\n        if (!hasKind) {\n            db.exec(\"ALTER TABLE messages ADD COLUMN kind TEXT DEFAULT 'text'\");\n        }\n        if (!hasMetadata) {\n            db.exec(\"ALTER TABLE messages ADD COLUMN metadata TEXT\");\n        }\n    } catch (e) {\n        console.error(\"Schema migration error (messages extra columns):\", e);\n    }\n};\n// Helper to create or update a conversation\nconst createConversation = (id, title, toolId = null)=>{\n    const db = getDb();\n    // Check if exists\n    const exists = db.prepare(\"SELECT 1 FROM conversations WHERE id = ?\").get(id);\n    if (!exists) {\n        const now = new Date().toISOString();\n        const stmt = db.prepare(\"INSERT INTO conversations (id, title, created_at, updated_at, tool_id) VALUES (?, ?, ?, ?, ?)\");\n        stmt.run(id, title, now, now, toolId);\n    }\n};\n// Helper to update conversation title\nconst updateConversationTitle = (id, newTitle)=>{\n    const db = getDb();\n    const stmt = db.prepare(\"UPDATE conversations SET title = ? WHERE id = ?\");\n    stmt.run(newTitle, id);\n};\nconst updateConversationTool = (id, toolId)=>{\n    const db = getDb();\n    const stmt = db.prepare(\"UPDATE conversations SET tool_id = ? WHERE id = ?\");\n    stmt.run(toolId, id);\n};\n// Helper to get all conversations\nconst getConversationsFromDb = ()=>{\n    const db = getDb();\n    // Sort by updated_at DESC (recently active first)\n    const stmt = db.prepare(\"SELECT id, title, created_at, updated_at, tool_id FROM conversations ORDER BY updated_at DESC\");\n    return stmt.all();\n};\n// Helper to save a message\nconst saveMessageToDb = (conversationId, role, content, kind = \"text\", metadata = null)=>{\n    const db = getDb();\n    // Ensure conversation exists. If not, create it with a default title or snippet.\n    // In a real app, we might want to generate a title from the first message.\n    const exists = db.prepare(\"SELECT 1 FROM conversations WHERE id = ?\").get(conversationId);\n    if (!exists) {\n        // Create a default title using the first 20 chars of content if it's a user message, else \"New Chat\"\n        const title = role === \"user\" ? content.slice(0, 20) + (content.length > 20 ? \"...\" : \"\") : \"New Chat\";\n        createConversation(conversationId, title);\n    }\n    const now = new Date().toISOString();\n    const stmt = db.prepare(\"INSERT INTO messages (conversation_id, role, content, created_at, kind, metadata) VALUES (?, ?, ?, ?, ?, ?)\");\n    stmt.run(conversationId, role, content, now, kind, metadata);\n    // Update conversation updated_at\n    const updateStmt = db.prepare(\"UPDATE conversations SET updated_at = ? WHERE id = ?\");\n    updateStmt.run(now, conversationId);\n};\n// Helper to get recent messages\nconst getMessagesFromDb = (conversationId, limit = 10)=>{\n    const db = getDb();\n    // Get last N messages for specific conversation, then reverse to chronological order\n    const stmt = db.prepare(`SELECT id, role, content, created_at, kind, metadata FROM messages WHERE conversation_id = ? ORDER BY id DESC LIMIT ?`);\n    const rows = stmt.all(conversationId, limit);\n    return rows.reverse();\n};\n// Helper to get user profile (get the latest one)\nconst getUserProfileFromDb = ()=>{\n    const db = getDb();\n    const stmt = db.prepare(\"SELECT * FROM user_profiles ORDER BY id DESC LIMIT 1\");\n    const row = stmt.get();\n    if (!row) return null;\n    let rawTags = {};\n    try {\n        rawTags = JSON.parse(row.tags);\n    } catch (e) {\n        console.error(\"Failed to parse profile tags\", e);\n    }\n    // Runtime Migration: Convert old string tags to new ProfileValue structure\n    const demographics = {};\n    for (const [key, val] of Object.entries(rawTags)){\n        if (typeof val === \"string\") {\n            // Old format: just string value\n            demographics[key] = {\n                value: val,\n                confidence: 50\n            }; // Default low confidence for legacy data\n        } else {\n            // New format: already object\n            demographics[key] = val;\n        }\n    }\n    return {\n        demographics: demographics,\n        personality: row.personality,\n        leadership_level: JSON.parse(row.leadership_level),\n        last_updated: row.last_updated\n    };\n};\n// Helper to delete a conversation and its messages\nconst deleteConversation = (id)=>{\n    const db = getDb();\n    // Delete messages first\n    const deleteMessagesStmt = db.prepare(\"DELETE FROM messages WHERE conversation_id = ?\");\n    deleteMessagesStmt.run(id);\n    // Delete conversation\n    const deleteConvStmt = db.prepare(\"DELETE FROM conversations WHERE id = ?\");\n    deleteConvStmt.run(id);\n};\n// Helper to save user profile\nconst saveUserProfileToDb = (profile)=>{\n    const db = getDb();\n    const stmt = db.prepare(\"INSERT INTO user_profiles (tags, personality, leadership_level, last_updated) VALUES (?, ?, ?, ?)\");\n    stmt.run(JSON.stringify(profile.demographics), profile.personality, JSON.stringify(profile.leadership_level), new Date().toISOString());\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUF5QztRQUMvRixPQUFPO1lBQ0wsNkJBQTZCO1lBQzdCTixZQUFZLENBQUNDLElBQUksR0FBR0M7UUFDdEI7SUFDRjtJQUVBLE9BQU87UUFDTEYsY0FBY0E7UUFDZE8sYUFBYVosSUFBSVksV0FBVztRQUM1QkMsa0JBQWtCWCxLQUFLQyxLQUFLLENBQUNILElBQUlhLGdCQUFnQjtRQUNqREMsY0FBY2QsSUFBSWMsWUFBWTtJQUNoQztBQUNGLEVBQUU7QUFFRixtREFBbUQ7QUFDNUMsTUFBTUMscUJBQXFCLENBQUMzQztJQUNqQyxNQUFNakIsS0FBS0g7SUFDWCx3QkFBd0I7SUFDeEIsTUFBTWdFLHFCQUFxQjdELEdBQUdHLE9BQU8sQ0FBQztJQUN0QzBELG1CQUFtQm5DLEdBQUcsQ0FBQ1Q7SUFFdkIsc0JBQXNCO0lBQ3RCLE1BQU02QyxpQkFBaUI5RCxHQUFHRyxPQUFPLENBQUM7SUFDbEMyRCxlQUFlcEMsR0FBRyxDQUFDVDtBQUNyQixFQUFFO0FBRUYsOEJBQThCO0FBQ3ZCLE1BQU04QyxzQkFBc0IsQ0FBQ0M7SUFDbEMsTUFBTWhFLEtBQUtIO0lBQ1gsTUFBTTRCLE9BQU96QixHQUFHRyxPQUFPLENBQ3JCO0lBRUZzQixLQUFLQyxHQUFHLENBQ05xQixLQUFLa0IsU0FBUyxDQUFDRCxRQUFRZCxZQUFZLEdBQ25DYyxRQUFRUCxXQUFXLEVBQ25CVixLQUFLa0IsU0FBUyxDQUFDRCxRQUFRTixnQkFBZ0IsR0FDdkMsSUFBSW5DLE9BQU9DLFdBQVc7QUFFMUIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWNvYWNoLWZyb250ZW5kLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IFVzZXJQcm9maWxlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxudHlwZSBEYXRhYmFzZVN0YXRlbWVudCA9IHtcbiAgYWxsOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duW107XG4gIGdldDogKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bjtcbiAgcnVuOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duO1xufTtcblxudHlwZSBEYXRhYmFzZVN5bmMgPSB7XG4gIGV4ZWM6IChzcWw6IHN0cmluZykgPT4gdm9pZDtcbiAgcHJlcGFyZTogKHNxbDogc3RyaW5nKSA9PiBEYXRhYmFzZVN0YXRlbWVudDtcbn07XG5cbmNvbnN0IHsgRGF0YWJhc2VTeW5jIH0gPSByZXF1aXJlKFwibm9kZTpzcWxpdGVcIikgYXMgeyBEYXRhYmFzZVN5bmM6IG5ldyAocGF0aDogc3RyaW5nKSA9PiBEYXRhYmFzZVN5bmMgfTtcblxuY29uc3QgZGJQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwic3FsaXRlLmRiXCIpO1xuXG4vLyBVc2UgYSBnbG9iYWwgdmFyaWFibGUgdG8gc3RvcmUgdGhlIGRhdGFiYXNlIGluc3RhbmNlIGluIGRldmVsb3BtZW50XG4vLyB0byBwcmV2ZW50IG11bHRpcGxlIGNvbm5lY3Rpb25zIGR1cmluZyBob3QgcmVsb2FkaW5nXG5jb25zdCBnbG9iYWxGb3JEYiA9IGdsb2JhbCBhcyB1bmtub3duIGFzIHsgZGJJbnN0YW5jZTogRGF0YWJhc2VTeW5jIHwgdW5kZWZpbmVkIH07XG5cbmV4cG9ydCBjb25zdCBnZXREYiA9ICgpID0+IHtcbiAgaWYgKCFnbG9iYWxGb3JEYi5kYkluc3RhbmNlKSB7XG4gICAgZ2xvYmFsRm9yRGIuZGJJbnN0YW5jZSA9IG5ldyBEYXRhYmFzZVN5bmMoZGJQYXRoKTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIHRhYmxlcyBvbmx5IG9uY2Ugd2hlbiBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkXG4gICAgaW5pdGlhbGl6ZVNjaGVtYShnbG9iYWxGb3JEYi5kYkluc3RhbmNlKTtcbiAgfVxuICByZXR1cm4gZ2xvYmFsRm9yRGIuZGJJbnN0YW5jZTtcbn07XG5cbmNvbnN0IGluaXRpYWxpemVTY2hlbWEgPSAoZGI6IERhdGFiYXNlU3luYykgPT4ge1xuICBkYi5leGVjKFxuICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjb252ZXJzYXRpb25zIChcbiAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLCBcbiAgICAgICB0aXRsZSBURVhUIE5PVCBOVUxMLCBcbiAgICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgIHRvb2xfaWQgVEVYVFxuICAgICApYFxuICApO1xuICBkYi5leGVjKFxuICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBtZXNzYWdlcyAoXG4gICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULCBcbiAgICAgICBjb252ZXJzYXRpb25faWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICByb2xlIFRFWFQgTk9UIE5VTEwsIFxuICAgICAgIGNvbnRlbnQgVEVYVCBOT1QgTlVMTCwgXG4gICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgIClgXG4gICk7XG4gIFxuICAvLyBOZXcgVGFibGU6IFVzZXIgUHJvZmlsZXNcbiAgZGIuZXhlYyhcbiAgICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcl9wcm9maWxlcyAoXG4gICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgIHRhZ3MgVEVYVCBOT1QgTlVMTCxcbiAgICAgICBwZXJzb25hbGl0eSBURVhUIE5PVCBOVUxMLFxuICAgICAgIGxlYWRlcnNoaXBfbGV2ZWwgVEVYVCBOT1QgTlVMTCxcbiAgICAgICBsYXN0X3VwZGF0ZWQgVEVYVCBOT1QgTlVMTFxuICAgICApYFxuICApO1xuICBcbiAgLy8gQ2hlY2sgaWYgY29udmVyc2F0aW9uX2lkIGNvbHVtbiBleGlzdHMgaW4gbWVzc2FnZXMgdGFibGVcbiAgdHJ5IHtcbiAgICBjb25zdCBjb2x1bW5zID0gZGIucHJlcGFyZShcIlBSQUdNQSB0YWJsZV9pbmZvKG1lc3NhZ2VzKVwiKS5hbGwoKSBhcyBhbnlbXTtcbiAgICBjb25zdCBoYXNDb252ZXJzYXRpb25JZCA9IGNvbHVtbnMuc29tZShjb2wgPT4gY29sLm5hbWUgPT09IFwiY29udmVyc2F0aW9uX2lkXCIpO1xuICAgIFxuICAgIGlmICghaGFzQ29udmVyc2F0aW9uSWQpIHtcbiAgICAgICBkYi5leGVjKFwiQUxURVIgVEFCTEUgbWVzc2FnZXMgQUREIENPTFVNTiBjb252ZXJzYXRpb25faWQgVEVYVFwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiU2NoZW1hIG1pZ3JhdGlvbiBlcnJvciAobWVzc2FnZXMpOlwiLCBlKTtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHVwZGF0ZWRfYXQgY29sdW1uIGV4aXN0cyBpbiBjb252ZXJzYXRpb25zIHRhYmxlXG4gIHRyeSB7XG4gICAgY29uc3QgY29sdW1ucyA9IGRiLnByZXBhcmUoXCJQUkFHTUEgdGFibGVfaW5mbyhjb252ZXJzYXRpb25zKVwiKS5hbGwoKSBhcyBhbnlbXTtcbiAgICBjb25zdCBoYXNVcGRhdGVkQXQgPSBjb2x1bW5zLnNvbWUoY29sID0+IGNvbC5uYW1lID09PSBcInVwZGF0ZWRfYXRcIik7XG4gICAgXG4gICAgaWYgKCFoYXNVcGRhdGVkQXQpIHtcbiAgICAgICAvLyBBZGQgY29sdW1uIGFuZCBiYWNrZmlsbCB3aXRoIGNyZWF0ZWRfYXQgdmFsdWVcbiAgICAgICBkYi5leGVjKFwiQUxURVIgVEFCTEUgY29udmVyc2F0aW9ucyBBREQgQ09MVU1OIHVwZGF0ZWRfYXQgVEVYVFwiKTtcbiAgICAgICBkYi5leGVjKFwiVVBEQVRFIGNvbnZlcnNhdGlvbnMgU0VUIHVwZGF0ZWRfYXQgPSBjcmVhdGVkX2F0IFdIRVJFIHVwZGF0ZWRfYXQgSVMgTlVMTFwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiU2NoZW1hIG1pZ3JhdGlvbiBlcnJvciAoY29udmVyc2F0aW9ucyk6XCIsIGUpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjb2x1bW5zID0gZGIucHJlcGFyZShcIlBSQUdNQSB0YWJsZV9pbmZvKGNvbnZlcnNhdGlvbnMpXCIpLmFsbCgpIGFzIGFueVtdO1xuICAgIGNvbnN0IGhhc1Rvb2xJZCA9IGNvbHVtbnMuc29tZShjb2wgPT4gY29sLm5hbWUgPT09IFwidG9vbF9pZFwiKTtcbiAgICBpZiAoIWhhc1Rvb2xJZCkge1xuICAgICAgZGIuZXhlYyhcIkFMVEVSIFRBQkxFIGNvbnZlcnNhdGlvbnMgQUREIENPTFVNTiB0b29sX2lkIFRFWFRcIik7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlNjaGVtYSBtaWdyYXRpb24gZXJyb3IgKGNvbnZlcnNhdGlvbnMgdG9vbF9pZCk6XCIsIGUpO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYga2luZCBhbmQgbWV0YWRhdGEgY29sdW1ucyBleGlzdCBpbiBtZXNzYWdlcyB0YWJsZVxuICB0cnkge1xuICAgIGNvbnN0IGNvbHVtbnMgPSBkYi5wcmVwYXJlKFwiUFJBR01BIHRhYmxlX2luZm8obWVzc2FnZXMpXCIpLmFsbCgpIGFzIGFueVtdO1xuICAgIGNvbnN0IGhhc0tpbmQgPSBjb2x1bW5zLnNvbWUoY29sID0+IGNvbC5uYW1lID09PSBcImtpbmRcIik7XG4gICAgY29uc3QgaGFzTWV0YWRhdGEgPSBjb2x1bW5zLnNvbWUoY29sID0+IGNvbC5uYW1lID09PSBcIm1ldGFkYXRhXCIpO1xuICAgIFxuICAgIGlmICghaGFzS2luZCkge1xuICAgICAgIGRiLmV4ZWMoXCJBTFRFUiBUQUJMRSBtZXNzYWdlcyBBREQgQ09MVU1OIGtpbmQgVEVYVCBERUZBVUxUICd0ZXh0J1wiKTtcbiAgICB9XG4gICAgaWYgKCFoYXNNZXRhZGF0YSkge1xuICAgICAgIGRiLmV4ZWMoXCJBTFRFUiBUQUJMRSBtZXNzYWdlcyBBREQgQ09MVU1OIG1ldGFkYXRhIFRFWFRcIik7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlNjaGVtYSBtaWdyYXRpb24gZXJyb3IgKG1lc3NhZ2VzIGV4dHJhIGNvbHVtbnMpOlwiLCBlKTtcbiAgfVxufTtcblxuLy8gSGVscGVyIHRvIGNyZWF0ZSBvciB1cGRhdGUgYSBjb252ZXJzYXRpb25cbmV4cG9ydCBjb25zdCBjcmVhdGVDb252ZXJzYXRpb24gPSAoaWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZywgdG9vbElkOiBzdHJpbmcgfCBudWxsID0gbnVsbCkgPT4ge1xuICBjb25zdCBkYiA9IGdldERiKCk7XG4gIC8vIENoZWNrIGlmIGV4aXN0c1xuICBjb25zdCBleGlzdHMgPSBkYi5wcmVwYXJlKFwiU0VMRUNUIDEgRlJPTSBjb252ZXJzYXRpb25zIFdIRVJFIGlkID0gP1wiKS5nZXQoaWQpO1xuICBpZiAoIWV4aXN0cykge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zdCBzdG10ID0gZGIucHJlcGFyZShcIklOU0VSVCBJTlRPIGNvbnZlcnNhdGlvbnMgKGlkLCB0aXRsZSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCwgdG9vbF9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiKTtcbiAgICBzdG10LnJ1bihpZCwgdGl0bGUsIG5vdywgbm93LCB0b29sSWQpO1xuICB9XG59O1xuXG4vLyBIZWxwZXIgdG8gdXBkYXRlIGNvbnZlcnNhdGlvbiB0aXRsZVxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNvbnZlcnNhdGlvblRpdGxlID0gKGlkOiBzdHJpbmcsIG5ld1RpdGxlOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgZGIgPSBnZXREYigpO1xuICBjb25zdCBzdG10ID0gZGIucHJlcGFyZShcIlVQREFURSBjb252ZXJzYXRpb25zIFNFVCB0aXRsZSA9ID8gV0hFUkUgaWQgPSA/XCIpO1xuICBzdG10LnJ1bihuZXdUaXRsZSwgaWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNvbnZlcnNhdGlvblRvb2wgPSAoaWQ6IHN0cmluZywgdG9vbElkOiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gIGNvbnN0IGRiID0gZ2V0RGIoKTtcbiAgY29uc3Qgc3RtdCA9IGRiLnByZXBhcmUoXCJVUERBVEUgY29udmVyc2F0aW9ucyBTRVQgdG9vbF9pZCA9ID8gV0hFUkUgaWQgPSA/XCIpO1xuICBzdG10LnJ1bih0b29sSWQsIGlkKTtcbn07XG5cbi8vIEhlbHBlciB0byBnZXQgYWxsIGNvbnZlcnNhdGlvbnNcbmV4cG9ydCBjb25zdCBnZXRDb252ZXJzYXRpb25zRnJvbURiID0gKCkgPT4ge1xuICBjb25zdCBkYiA9IGdldERiKCk7XG4gIC8vIFNvcnQgYnkgdXBkYXRlZF9hdCBERVNDIChyZWNlbnRseSBhY3RpdmUgZmlyc3QpXG4gIGNvbnN0IHN0bXQgPSBkYi5wcmVwYXJlKFwiU0VMRUNUIGlkLCB0aXRsZSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCwgdG9vbF9pZCBGUk9NIGNvbnZlcnNhdGlvbnMgT1JERVIgQlkgdXBkYXRlZF9hdCBERVNDXCIpO1xuICByZXR1cm4gc3RtdC5hbGwoKSBhcyB7IGlkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IGNyZWF0ZWRfYXQ6IHN0cmluZzsgdXBkYXRlZF9hdDogc3RyaW5nOyB0b29sX2lkOiBzdHJpbmcgfCBudWxsIH1bXTtcbn07XG5cbi8vIEhlbHBlciB0byBzYXZlIGEgbWVzc2FnZVxuZXhwb3J0IGNvbnN0IHNhdmVNZXNzYWdlVG9EYiA9IChcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZywgXG4gIHJvbGU6IFwidXNlclwiIHwgXCJhaVwiLCBcbiAgY29udGVudDogc3RyaW5nLFxuICBraW5kOiBcInRleHRcIiB8IFwiYW5hbHlzaXNcIiA9IFwidGV4dFwiLFxuICBtZXRhZGF0YTogc3RyaW5nIHwgbnVsbCA9IG51bGxcbikgPT4ge1xuICBjb25zdCBkYiA9IGdldERiKCk7XG4gIFxuICAvLyBFbnN1cmUgY29udmVyc2F0aW9uIGV4aXN0cy4gSWYgbm90LCBjcmVhdGUgaXQgd2l0aCBhIGRlZmF1bHQgdGl0bGUgb3Igc25pcHBldC5cbiAgLy8gSW4gYSByZWFsIGFwcCwgd2UgbWlnaHQgd2FudCB0byBnZW5lcmF0ZSBhIHRpdGxlIGZyb20gdGhlIGZpcnN0IG1lc3NhZ2UuXG4gIGNvbnN0IGV4aXN0cyA9IGRiLnByZXBhcmUoXCJTRUxFQ1QgMSBGUk9NIGNvbnZlcnNhdGlvbnMgV0hFUkUgaWQgPSA/XCIpLmdldChjb252ZXJzYXRpb25JZCk7XG4gIGlmICghZXhpc3RzKSB7XG4gICAgICAvLyBDcmVhdGUgYSBkZWZhdWx0IHRpdGxlIHVzaW5nIHRoZSBmaXJzdCAyMCBjaGFycyBvZiBjb250ZW50IGlmIGl0J3MgYSB1c2VyIG1lc3NhZ2UsIGVsc2UgXCJOZXcgQ2hhdFwiXG4gICAgICBjb25zdCB0aXRsZSA9IHJvbGUgPT09ICd1c2VyJyA/IChjb250ZW50LnNsaWNlKDAsIDIwKSArIChjb250ZW50Lmxlbmd0aCA+IDIwID8gXCIuLi5cIiA6IFwiXCIpKSA6IFwiTmV3IENoYXRcIjtcbiAgICAgIGNyZWF0ZUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb25JZCwgdGl0bGUpO1xuICB9XG5cbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBjb25zdCBzdG10ID0gZGIucHJlcGFyZShcIklOU0VSVCBJTlRPIG1lc3NhZ2VzIChjb252ZXJzYXRpb25faWQsIHJvbGUsIGNvbnRlbnQsIGNyZWF0ZWRfYXQsIGtpbmQsIG1ldGFkYXRhKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8pXCIpO1xuICBzdG10LnJ1bihjb252ZXJzYXRpb25JZCwgcm9sZSwgY29udGVudCwgbm93LCBraW5kLCBtZXRhZGF0YSk7XG5cbiAgLy8gVXBkYXRlIGNvbnZlcnNhdGlvbiB1cGRhdGVkX2F0XG4gIGNvbnN0IHVwZGF0ZVN0bXQgPSBkYi5wcmVwYXJlKFwiVVBEQVRFIGNvbnZlcnNhdGlvbnMgU0VUIHVwZGF0ZWRfYXQgPSA/IFdIRVJFIGlkID0gP1wiKTtcbiAgdXBkYXRlU3RtdC5ydW4obm93LCBjb252ZXJzYXRpb25JZCk7XG59O1xuXG4vLyBIZWxwZXIgdG8gZ2V0IHJlY2VudCBtZXNzYWdlc1xuZXhwb3J0IGNvbnN0IGdldE1lc3NhZ2VzRnJvbURiID0gKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIGxpbWl0OiBudW1iZXIgPSAxMCkgPT4ge1xuICBjb25zdCBkYiA9IGdldERiKCk7XG4gIC8vIEdldCBsYXN0IE4gbWVzc2FnZXMgZm9yIHNwZWNpZmljIGNvbnZlcnNhdGlvbiwgdGhlbiByZXZlcnNlIHRvIGNocm9ub2xvZ2ljYWwgb3JkZXJcbiAgY29uc3Qgc3RtdCA9IGRiLnByZXBhcmUoYFNFTEVDVCBpZCwgcm9sZSwgY29udGVudCwgY3JlYXRlZF9hdCwga2luZCwgbWV0YWRhdGEgRlJPTSBtZXNzYWdlcyBXSEVSRSBjb252ZXJzYXRpb25faWQgPSA/IE9SREVSIEJZIGlkIERFU0MgTElNSVQgP2ApO1xuICBjb25zdCByb3dzID0gc3RtdC5hbGwoY29udmVyc2F0aW9uSWQsIGxpbWl0KTtcbiAgcmV0dXJuIChyb3dzIGFzIHsgaWQ6IG51bWJlcjsgcm9sZTogc3RyaW5nOyBjb250ZW50OiBzdHJpbmc7IGNyZWF0ZWRfYXQ6IHN0cmluZzsga2luZDogc3RyaW5nOyBtZXRhZGF0YTogc3RyaW5nIHwgbnVsbCB9W10pLnJldmVyc2UoKTtcbn07XG5cbi8vIEhlbHBlciB0byBnZXQgdXNlciBwcm9maWxlIChnZXQgdGhlIGxhdGVzdCBvbmUpXG5leHBvcnQgY29uc3QgZ2V0VXNlclByb2ZpbGVGcm9tRGIgPSAoKTogVXNlclByb2ZpbGUgfCBudWxsID0+IHtcbiAgY29uc3QgZGIgPSBnZXREYigpO1xuICBjb25zdCBzdG10ID0gZGIucHJlcGFyZShcIlNFTEVDVCAqIEZST00gdXNlcl9wcm9maWxlcyBPUkRFUiBCWSBpZCBERVNDIExJTUlUIDFcIik7XG4gIGNvbnN0IHJvdyA9IHN0bXQuZ2V0KCkgYXMgYW55O1xuICBcbiAgaWYgKCFyb3cpIHJldHVybiBudWxsO1xuICBcbiAgbGV0IHJhd1RhZ3MgPSB7fTtcbiAgdHJ5IHtcbiAgICByYXdUYWdzID0gSlNPTi5wYXJzZShyb3cudGFncyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHByb2ZpbGUgdGFnc1wiLCBlKTtcbiAgfVxuXG4gIC8vIFJ1bnRpbWUgTWlncmF0aW9uOiBDb252ZXJ0IG9sZCBzdHJpbmcgdGFncyB0byBuZXcgUHJvZmlsZVZhbHVlIHN0cnVjdHVyZVxuICBjb25zdCBkZW1vZ3JhcGhpY3M6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHJhd1RhZ3MpKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBPbGQgZm9ybWF0OiBqdXN0IHN0cmluZyB2YWx1ZVxuICAgICAgZGVtb2dyYXBoaWNzW2tleV0gPSB7IHZhbHVlOiB2YWwsIGNvbmZpZGVuY2U6IDUwIH07IC8vIERlZmF1bHQgbG93IGNvbmZpZGVuY2UgZm9yIGxlZ2FjeSBkYXRhXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5ldyBmb3JtYXQ6IGFscmVhZHkgb2JqZWN0XG4gICAgICBkZW1vZ3JhcGhpY3Nba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRlbW9ncmFwaGljczogZGVtb2dyYXBoaWNzLFxuICAgIHBlcnNvbmFsaXR5OiByb3cucGVyc29uYWxpdHksXG4gICAgbGVhZGVyc2hpcF9sZXZlbDogSlNPTi5wYXJzZShyb3cubGVhZGVyc2hpcF9sZXZlbCksXG4gICAgbGFzdF91cGRhdGVkOiByb3cubGFzdF91cGRhdGVkXG4gIH07XG59O1xuXG4vLyBIZWxwZXIgdG8gZGVsZXRlIGEgY29udmVyc2F0aW9uIGFuZCBpdHMgbWVzc2FnZXNcbmV4cG9ydCBjb25zdCBkZWxldGVDb252ZXJzYXRpb24gPSAoaWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCBkYiA9IGdldERiKCk7XG4gIC8vIERlbGV0ZSBtZXNzYWdlcyBmaXJzdFxuICBjb25zdCBkZWxldGVNZXNzYWdlc1N0bXQgPSBkYi5wcmVwYXJlKFwiREVMRVRFIEZST00gbWVzc2FnZXMgV0hFUkUgY29udmVyc2F0aW9uX2lkID0gP1wiKTtcbiAgZGVsZXRlTWVzc2FnZXNTdG10LnJ1bihpZCk7XG5cbiAgLy8gRGVsZXRlIGNvbnZlcnNhdGlvblxuICBjb25zdCBkZWxldGVDb252U3RtdCA9IGRiLnByZXBhcmUoXCJERUxFVEUgRlJPTSBjb252ZXJzYXRpb25zIFdIRVJFIGlkID0gP1wiKTtcbiAgZGVsZXRlQ29udlN0bXQucnVuKGlkKTtcbn07XG5cbi8vIEhlbHBlciB0byBzYXZlIHVzZXIgcHJvZmlsZVxuZXhwb3J0IGNvbnN0IHNhdmVVc2VyUHJvZmlsZVRvRGIgPSAocHJvZmlsZTogVXNlclByb2ZpbGUpID0+IHtcbiAgY29uc3QgZGIgPSBnZXREYigpO1xuICBjb25zdCBzdG10ID0gZGIucHJlcGFyZShcbiAgICBcIklOU0VSVCBJTlRPIHVzZXJfcHJvZmlsZXMgKHRhZ3MsIHBlcnNvbmFsaXR5LCBsZWFkZXJzaGlwX2xldmVsLCBsYXN0X3VwZGF0ZWQpIFZBTFVFUyAoPywgPywgPywgPylcIlxuICApO1xuICBzdG10LnJ1bihcbiAgICBKU09OLnN0cmluZ2lmeShwcm9maWxlLmRlbW9ncmFwaGljcyksIFxuICAgIHByb2ZpbGUucGVyc29uYWxpdHksIFxuICAgIEpTT04uc3RyaW5naWZ5KHByb2ZpbGUubGVhZGVyc2hpcF9sZXZlbCksIFxuICAgIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICApO1xufTtcbiJdLCJuYW1lcyI6WyJwYXRoIiwiRGF0YWJhc2VTeW5jIiwicmVxdWlyZSIsImRiUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZ2xvYmFsRm9yRGIiLCJnbG9iYWwiLCJnZXREYiIsImRiSW5zdGFuY2UiLCJpbml0aWFsaXplU2NoZW1hIiwiZGIiLCJleGVjIiwiY29sdW1ucyIsInByZXBhcmUiLCJhbGwiLCJoYXNDb252ZXJzYXRpb25JZCIsInNvbWUiLCJjb2wiLCJuYW1lIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImhhc1VwZGF0ZWRBdCIsImhhc1Rvb2xJZCIsImhhc0tpbmQiLCJoYXNNZXRhZGF0YSIsImNyZWF0ZUNvbnZlcnNhdGlvbiIsImlkIiwidGl0bGUiLCJ0b29sSWQiLCJleGlzdHMiLCJnZXQiLCJub3ciLCJEYXRlIiwidG9JU09TdHJpbmciLCJzdG10IiwicnVuIiwidXBkYXRlQ29udmVyc2F0aW9uVGl0bGUiLCJuZXdUaXRsZSIsInVwZGF0ZUNvbnZlcnNhdGlvblRvb2wiLCJnZXRDb252ZXJzYXRpb25zRnJvbURiIiwic2F2ZU1lc3NhZ2VUb0RiIiwiY29udmVyc2F0aW9uSWQiLCJyb2xlIiwiY29udGVudCIsImtpbmQiLCJtZXRhZGF0YSIsInNsaWNlIiwibGVuZ3RoIiwidXBkYXRlU3RtdCIsImdldE1lc3NhZ2VzRnJvbURiIiwibGltaXQiLCJyb3dzIiwicmV2ZXJzZSIsImdldFVzZXJQcm9maWxlRnJvbURiIiwicm93IiwicmF3VGFncyIsIkpTT04iLCJwYXJzZSIsInRhZ3MiLCJkZW1vZ3JhcGhpY3MiLCJrZXkiLCJ2YWwiLCJPYmplY3QiLCJlbnRyaWVzIiwidmFsdWUiLCJjb25maWRlbmNlIiwicGVyc29uYWxpdHkiLCJsZWFkZXJzaGlwX2xldmVsIiwibGFzdF91cGRhdGVkIiwiZGVsZXRlQ29udmVyc2F0aW9uIiwiZGVsZXRlTWVzc2FnZXNTdG10IiwiZGVsZXRlQ29udlN0bXQiLCJzYXZlVXNlclByb2ZpbGVUb0RiIiwicHJvZmlsZSIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistory%2Froute&page=%2Fapi%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistory%2Froute.ts&appDir=G%3A%5CTrea%5CAICoach%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=G%3A%5CTrea%5CAICoach%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();